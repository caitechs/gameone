<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/edge/edged">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Edged | CassItComp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cassitcomp.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://cassitcomp.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://cassitcomp.org/docs/architecture/edge/edged"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Edged | CassItComp"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="canonical" href="https://cassitcomp.org/docs/architecture/edge/edged"><link data-rh="true" rel="alternate" href="https://cassitcomp.org/docs/architecture/edge/edged" hreflang="zh"><link data-rh="true" rel="alternate" href="https://cassitcomp.org/docs/architecture/edge/edged" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CassItComp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CassItComp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9PL5BPEXGS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9PL5BPEXGS",{anonymize_ip:!0})</script>






<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
<link rel="manifest" href="/favicons/site.webmanifest">
<meta name="theme-color" content="#ffffff">
<meta name="msapplication-config" content="/favicons/browserconfig.xml"><link rel="stylesheet" href="/assets/css/styles.605aed04.css">
<link rel="preload" href="/assets/js/runtime~main.0fc296dd.js" as="script">
<link rel="preload" href="/assets/js/main.4cac565b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/avatar.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avatar.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Gameone 机器自动评分系统</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" target="_self" href="/docs">文档</a><a class="navbar__item navbar__link" target="_self" href="/blog">博客  </a><a class="navbar__item navbar__link" href="/case-studies">案例中心</a><a class="navbar__item navbar__link" href="/partners">合作伙伴</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kubeedge/kubeedge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link heade-icon"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/architecture/edge/edged" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/">入门指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">为什么选择KubeEdge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/getting-started">快速开始</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/available-doc-versions">支持的文档版本</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/setup">安装</a><button aria-label="打开/收起侧边栏菜单「安装」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/architecture">KubeEdge架构</a><button aria-label="打开/收起侧边栏菜单「KubeEdge架构」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/beehive">公共组件</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/cloud-components">云上组件</a><button aria-label="打开/收起侧边栏菜单「云上组件」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/edge-components">边缘组件</a><button aria-label="打开/收起侧边栏菜单「边缘组件」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/architecture/edge/edged">Edged</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/edge/eventbus">EventBus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/edge/edgehub">EdgeHub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/edge/devicetwin">DeviceTwin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/edge/metamanager">MetaManager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/edge/servicebus">ServiceBus</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/core-concept">核心概念</a><button aria-label="打开/收起侧边栏菜单「核心概念」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/advanced-configuration">高级配置</a><button aria-label="打开/收起侧边栏菜单「高级配置」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/developer-guide">开发者指南</a><button aria-label="打开/收起侧边栏菜单「开发者指南」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/community">社区</a><button aria-label="打开/收起侧边栏菜单「社区」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/subproject">KubeEdge子项目</a><button aria-label="打开/收起侧边栏菜单「KubeEdge子项目」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/frequently-asked-questions-faq">常见问题</a><button aria-label="打开/收起侧边栏菜单「常见问题」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/architecture"><span itemprop="name">KubeEdge架构</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/edge-components"><span itemprop="name">边缘组件</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Edged</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Edged</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Overview的直接链接" title="Overview的直接链接">​</a></h2><p>EdgeD is an edge node module which manages pod lifecycle. It helps users to deploy containerized workloads or applications at the edge node. Those workloads could perform any operation from simple telemetry data manipulation to analytics or ML inference and so on. Using <code>kubectl</code> command line interface at the cloud side, users can issue commands to launch the workloads.</p><p>Several OCI-compliant runtimes are supported through the Container Runtime Interface (CRI). See <a href="/docs/setup/prerequisites/runtime">KubeEdge runtime configuration</a> for more information on how to configure edged to make use of other runtimes.</p><p>There are many modules which work in tandem to achieve edged&#x27;s functionalities.</p><p><img loading="lazy" alt="EdgeD Overall" src="/assets/images/edged-overall-408666281afea812269ae0eb064c2b46.png" width="663" height="403" class="img_ev3q"></p><p><em>Fig 1: EdgeD Functionalities</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pod-management">Pod Management<a href="#pod-management" class="hash-link" aria-label="Pod Management的直接链接" title="Pod Management的直接链接">​</a></h2><p>It is handles for pod addition, deletion and modification. It also tracks the health of the pods using pod status manager and pleg.
Its primary jobs are as follows:</p><ul><li>Receives and handles pod addition/deletion/modification messages from metamanager.</li><li>Handles separate worker queues for pod addition and deletion.</li><li>Handles worker routines to check worker queues to do pod operations.</li><li>Keeps separate cache for config map and secrets respectively.</li><li>Regular cleanup of orphaned pods</li></ul><p><img loading="lazy" alt="Pod Addition Flow" src="/assets/images/pod-addition-flow-018984a4a4358883d6f7b522eae4f9dc.png" width="1326" height="696" class="img_ev3q"></p><p><em>Fig 2: Pod Addition Flow</em></p><p><img loading="lazy" alt="Pod Deletion Flow" src="/assets/images/pod-deletion-flow-9beabbaf7a2c3c0feac27886f7a54341.png" width="1028" height="459" class="img_ev3q"></p><p><em>Fig 3: Pod Deletion Flow</em></p><p><img loading="lazy" alt="Pod Updation Flow" src="/assets/images/pod-update-flow-5320381b4f544dcb0396c6bda336b3eb.png" width="1306" height="766" class="img_ev3q"></p><p><em>Fig 4: Pod Updation Flow</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pod-lifecycle-event-generator">Pod Lifecycle Event Generator<a href="#pod-lifecycle-event-generator" class="hash-link" aria-label="Pod Lifecycle Event Generator的直接链接" title="Pod Lifecycle Event Generator的直接链接">​</a></h2><p>This module helps in monitoring pod status for edged. Every second, using probes for liveness and readiness, it updates the information with pod status manager for every pod.</p><p><img loading="lazy" alt="PLEG Design" src="/assets/images/pleg-flow-bc9c34014148b5a64c3d59ed7756e9cd.png" width="1159" height="503" class="img_ev3q"></p><p><em>Fig 5: PLEG at EdgeD</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cri-for-edged">CRI for edged<a href="#cri-for-edged" class="hash-link" aria-label="CRI for edged的直接链接" title="CRI for edged的直接链接">​</a></h2><p>Container Runtime Interface (CRI) – a plugin interface which enables edged to use a wide variety of container runtimes like Docker, containerd, CRI-O, etc., without the need to recompile. For more on how to configure KubeEdge for container runtimes, see <a href="/docs/setup/prerequisites/runtime">KubeEdge runtime configuration</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-cri-for-edged">Why CRI for edged?<a href="#why-cri-for-edged" class="hash-link" aria-label="Why CRI for edged?的直接链接" title="Why CRI for edged?的直接链接">​</a></h4><p>CRI support for multiple container runtimes in edged is needed in order to:</p><ul><li>Support light-weight container runtimes on resource-constrained edge nodes which are unable to run the existing Docker runtime.</li><li>Support multiple container runtimes like Docker, containerd, CRI-O, etc., on edge nodes.</li></ul><p>Support for corresponding CNI with pause container and IP will be considered later.</p><p><img loading="lazy" alt="CRI Design" src="/assets/images/edged-cri-de51174decc714df04b23053d054f2e8.png" width="954" height="305" class="img_ev3q"></p><p><em>Fig 6: CRI at EdgeD</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="secret-management">Secret Management<a href="#secret-management" class="hash-link" aria-label="Secret Management的直接链接" title="Secret Management的直接链接">​</a></h2><p>In edged, Secrets are handled separately. For operations like addition, deletion and modification, there are separate sets of config messages and interfaces.
Using these interfaces, secrets are updated in cache store.
The flow diagram below explains the message flow.</p><p><img loading="lazy" alt="Secret Message Handling" src="/assets/images/secret-handling-6815505fd16a6c1053f508774dba55f6.png" width="1130" height="508" class="img_ev3q"></p><p><em>Fig 7: Secret Message Handling at EdgeD</em></p><p>Edged uses the MetaClient module to fetch secrets from MetaManager. If edged queries for a new secret which is not yet stored in MetaManager, the request is forwarded to the Cloud. Before sending the response containing the secret, MetaManager stores it in a local database. Subsequent queries for the same secret key will be retrieved from the database, reducing latency. The flow diagram below shows how a secret is fetched from MetaManager and the Cloud. It also descibes how the secret is stored in MetaManager.</p><p><img loading="lazy" alt="Query Secret" src="/assets/images/query-secret-from-edged-2558f198e519b0999c2c11f9e93f617f.png" width="1065" height="619" class="img_ev3q"></p><p><em>Fig 8: Query Secret by EdgeD</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="probe-management">Probe Management<a href="#probe-management" class="hash-link" aria-label="Probe Management的直接链接" title="Probe Management的直接链接">​</a></h2><p>Probe management creates two probes for readiness and liveness respectively for pods to monitor the containers. The readiness probe helps by monitoring when the pod has reached a running state. The liveness probe helps by monitoring the health of pods, indicating if they are up or down.
As explained earlier, the PLEG module uses its services.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configmap-management">ConfigMap Management<a href="#configmap-management" class="hash-link" aria-label="ConfigMap Management的直接链接" title="ConfigMap Management的直接链接">​</a></h2><p>In edged, ConfigMaps are also handled separately. For operations like addition, deletion and modification, there are separate sets of config messages and interfaces.
Using these interfaces, ConfigMaps are updated in cache store.
The flow diagram below explains the message flow.</p><p><img loading="lazy" alt="ConfigMap Message Handling" src="/assets/images/configmap-handling-f3c459e5b4d8ae97c45189ce631b014e.png" width="1126" height="481" class="img_ev3q"></p><p><em>Fig 9: ConfigMap Message Handling at EdgeD</em></p><p>Edged uses the MetaClient module to fetch ConfigMaps from MetaManager. If edged queries for a new ConfigMap which is not yet stored in MetaManager, the request is forwarded to the Cloud. Before sending the response containing the ConfigMap, MetaManager stores it in a local database. Subsequent queries for the same ConfigMap key will be retrieved from the database, reducing latency. The flow diagram below shows how ConfigMaps are fetched from MetaManager and the Cloud. It also descibes how ConfigMaps are stored in MetaManager.</p><p><img loading="lazy" alt="Query Configmaps" src="/assets/images/query-configmap-from-edged-63fa0877b4c4b043aa75cb148e9474f1.png" width="1183" height="504" class="img_ev3q"></p><p><em>Fig 10: Query Configmaps by EdgeD</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="container-gc">Container GC<a href="#container-gc" class="hash-link" aria-label="Container GC的直接链接" title="Container GC的直接链接">​</a></h2><p>The container garbage collector is an edged routine which wakes up every minute, collecting and removing dead containers using the specified container gc policy.
The policy for garbage collecting containers is determined by three variables, which can be user-defined:</p><ul><li><code>MinAge</code> is the minimum age at which a container can be garbage collected, zero for no limit.</li><li><code>MaxPerPodContainer</code> is the maximum number of dead containers that any single pod (UID, container name) pair is allowed to have, less than zero for no limit.</li><li><code>MaxContainers</code> is the maximum number of total dead containers, less than zero for no limit. Generally, the oldest containers are removed first.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="image-gc">Image GC<a href="#image-gc" class="hash-link" aria-label="Image GC的直接链接" title="Image GC的直接链接">​</a></h2><p>The image garbage collector is an edged routine which wakes up every 5 secs, and collects information about disk usage based on the policy used.
The policy for garbage collecting images takes two factors into consideration, <code>HighThresholdPercent</code> and <code>LowThresholdPercent</code>. Disk usage above the high threshold will trigger garbage collection, which attempts to delete unused images until the low threshold is met. Least recently used images are deleted first.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="status-manager">Status Manager<a href="#status-manager" class="hash-link" aria-label="Status Manager的直接链接" title="Status Manager的直接链接">​</a></h2><p>Status manager is an independent edge routine, which collects pods statuses every 10 seconds and forwards this information to the cloud using the metaclient interface.</p><p><img loading="lazy" alt="Status Manager Flow" src="/assets/images/pod-status-manger-flow-50e00dc202a5cb87c9a7ca392a8bf428.png" width="1213" height="612" class="img_ev3q"></p><p><em>Fig 11: Status Manager Flow</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="volume-management">Volume Management<a href="#volume-management" class="hash-link" aria-label="Volume Management的直接链接" title="Volume Management的直接链接">​</a></h2><p>Volume manager runs as an edge routine which brings out the information of which volume(s) are to be attached/mounted/unmounted/detached based on pods scheduled on the edge node.</p><p>Before starting the pod, all the specified volumes referenced in pod specs are attached and mounted, Till then the flow is blocked and with it other operations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metaclient">MetaClient<a href="#metaclient" class="hash-link" aria-label="MetaClient的直接链接" title="MetaClient的直接链接">​</a></h2><p>Metaclient is an interface of Metamanger for edged. It helps edged to get ConfigMaps and secret details from metamanager or cloud.
It also sends sync messages, node status and pod status towards metamanger to cloud.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kubeedge/website/blob/master/docs/architecture/edge/edged.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/edge-components"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Edge Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/architecture/edge/eventbus"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">EventBus</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#pod-management" class="table-of-contents__link toc-highlight">Pod Management</a></li><li><a href="#pod-lifecycle-event-generator" class="table-of-contents__link toc-highlight">Pod Lifecycle Event Generator</a></li><li><a href="#cri-for-edged" class="table-of-contents__link toc-highlight">CRI for edged</a></li><li><a href="#secret-management" class="table-of-contents__link toc-highlight">Secret Management</a></li><li><a href="#probe-management" class="table-of-contents__link toc-highlight">Probe Management</a></li><li><a href="#configmap-management" class="table-of-contents__link toc-highlight">ConfigMap Management</a></li><li><a href="#container-gc" class="table-of-contents__link toc-highlight">Container GC</a></li><li><a href="#image-gc" class="table-of-contents__link toc-highlight">Image GC</a></li><li><a href="#status-manager" class="table-of-contents__link toc-highlight">Status Manager</a></li><li><a href="#volume-management" class="table-of-contents__link toc-highlight">Volume Management</a></li><li><a href="#metaclient" class="table-of-contents__link toc-highlight">MetaClient</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">2023 © GameOne Project Authors. All rights reserved. GameOne项目组，版权所有！</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0fc296dd.js"></script>
<script src="/assets/js/main.4cac565b.js"></script>
</body>
</html>