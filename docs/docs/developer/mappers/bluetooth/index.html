<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-developer/mappers/bluetooth">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Bluetooth | CassItComp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://caitechs.github.io/gameone/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://caitechs.github.io/gameone/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://caitechs.github.io/gameone/docs/developer/mappers/bluetooth"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Bluetooth | CassItComp"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="canonical" href="https://caitechs.github.io/gameone/docs/developer/mappers/bluetooth"><link data-rh="true" rel="alternate" href="https://caitechs.github.io/gameone/docs/developer/mappers/bluetooth" hreflang="zh"><link data-rh="true" rel="alternate" href="https://caitechs.github.io/gameone/docs/developer/mappers/bluetooth" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/gameone/blog/rss.xml" title="CassItComp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/gameone/blog/atom.xml" title="CassItComp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9PL5BPEXGS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9PL5BPEXGS",{anonymize_ip:!0})</script>






<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
<link rel="manifest" href="/favicons/site.webmanifest">
<meta name="theme-color" content="#ffffff">
<meta name="msapplication-config" content="/favicons/browserconfig.xml"><link rel="stylesheet" href="/gameone/assets/css/styles.c5a3b718.css">
<link rel="preload" href="/gameone/assets/js/runtime~main.94491653.js" as="script">
<link rel="preload" href="/gameone/assets/js/main.07136e89.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/gameone/"><div class="navbar__logo"><img src="/gameone/img/avatar.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/gameone/img/avatar.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Gameone 机器自动评分系统</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" target="_self" href="/gameone/docs">文档</a><a class="navbar__item navbar__link" target="_self" href="/gameone/blog">博客  </a><a class="navbar__item navbar__link" href="/gameone/case-studies">案例中心</a><a class="navbar__item navbar__link" href="/gameone/partners">合作伙伴</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/caitechs/gameone" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link heade-icon"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/gameone/docs/developer/mappers/bluetooth" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/gameone/docs/">入门指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/">为什么选择KubeEdge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/welcome/getting-started">快速开始</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/welcome/available-doc-versions">支持的文档版本</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/setup">安装</a><button aria-label="打开/收起侧边栏菜单「安装」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/architecture">KubeEdge架构</a><button aria-label="打开/收起侧边栏菜单「KubeEdge架构」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/core-concept">核心概念</a><button aria-label="打开/收起侧边栏菜单「核心概念」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/advanced-configuration">高级配置</a><button aria-label="打开/收起侧边栏菜单「高级配置」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/gameone/docs/category/developer-guide">开发者指南</a><button aria-label="打开/收起侧边栏菜单「开发者指南」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/developer/build">编译构建</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/developer/device_crd">设备管理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gameone/docs/category/tests">测试指导</a><button aria-label="打开/收起侧边栏菜单「测试指导」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/developer/custom_message_deliver">路由管理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/gameone/docs/developer/mappers/">Mappers</a><button aria-label="打开/收起侧边栏菜单「Mappers」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/gameone/docs/developer/mappers/bluetooth">Bluetooth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/developer/mappers/modbus">Modbus</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/developer/message_topics">Message Topics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gameone/docs/developer/troubleshooting">故障排除</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/community">社区</a><button aria-label="打开/收起侧边栏菜单「社区」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/subproject">KubeEdge子项目</a><button aria-label="打开/收起侧边栏菜单「KubeEdge子项目」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gameone/docs/category/frequently-asked-questions-faq">常见问题</a><button aria-label="打开/收起侧边栏菜单「常见问题」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/gameone/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/gameone/docs/category/developer-guide"><span itemprop="name">开发者指南</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/gameone/docs/developer/mappers/"><span itemprop="name">Mappers</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Bluetooth</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Bluetooth</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Introduction的直接链接" title="Introduction的直接链接">​</a></h2><p>Mapper is an application that is used to connect and control devices. This is an implementation of mapper for
bluetooth protocol. The aim is to create an application through which users can easily operate devices using bluetooth protocol for communication to the KubeEdge platform. The user is required to provide the mapper with the information required to control their device through the configuration file. These can be changed at runtime by providing the input through the MQTT broker.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-mapper">Running the mapper<a href="#running-the-mapper" class="hash-link" aria-label="Running the mapper的直接链接" title="Running the mapper的直接链接">​</a></h2><ol><li><p>Please ensure that bluetooth service of your device is ON</p></li><li><p>Set &#x27;bluetooth=true&#x27; label for the node (This label is a prerequisite for the scheduler to schedule bluetooth_mapper pod on the node)</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl label nodes </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">name-of-node</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">bluetooth</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Build and deploy the mapper by following the steps given below.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-bluetooth-mapper">Building the bluetooth mapper<a href="#building-the-bluetooth-mapper" class="hash-link" aria-label="Building the bluetooth mapper的直接链接" title="Building the bluetooth mapper的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$GOPATH</span><span class="token plain">/src/github.com/kubeedge/kubeedge/mappers/bluetooth_mapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> bluetooth_mapper_image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> tag bluetooth_mapper:v1.0 </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_dockerhub_username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/bluetooth_mapper:v1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> push </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_dockerhub_username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/bluetooth_mapper:v1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Note: Before trying to push the </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> image to the remote repository please ensure that you have signed into </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> from your node, </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> not please </span><span class="token builtin class-name">type</span><span class="token plain"> the followig </span><span class="token builtin class-name">command</span><span class="token plain"> to sign </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Please enter your username and password when prompted</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-bluetooth-mapper-application">Deploying bluetooth mapper application<a href="#deploying-bluetooth-mapper-application" class="hash-link" aria-label="Deploying bluetooth mapper application的直接链接" title="Deploying bluetooth mapper application的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$GOPATH</span><span class="token plain">/src/github.com/kubeedge/kubeedge/mappers/bluetooth_mapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Please enter the following details in the deployment.yaml :-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#    1. Replace &lt;edge_node_name&gt; with the name of your edge node at spec.template.spec.voluems.configMap.name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#    2. Replace &lt;your_dockerhub_username&gt; with your dockerhub username at spec.template.spec.containers.image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create -f deployment.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modules">Modules<a href="#modules" class="hash-link" aria-label="Modules的直接链接" title="Modules的直接链接">​</a></h2><p>The bluetooth mapper consists of the following five major modules :-</p><ol><li>Action Manager</li><li>Scheduler</li><li>Watcher</li><li>Controller</li><li>Data Converter</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-manager">Action Manager<a href="#action-manager" class="hash-link" aria-label="Action Manager的直接链接" title="Action Manager的直接链接">​</a></h3><p> A bluetooth device can be controlled by setting a specific value in physical register(s) of a device and readings can be acquired by
getting the value from specific register(s). We can define an Action as a group of read/write operations on a device. A device may support
multiple such actions. The registers are identified by characteristic values which are exposed by the device through entities called characteristic-uuids.
Each of these actions should be supplied through config-file to action manager or at runtime through MQTT. The values specified initially through the configuration
file can be modified at runtime through MQTT. Given below is a guide to provide input to action manager through the configuration file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">action-manager:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   actions:          # Multiple actions can be added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - name: &lt;name of the action&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       perform-immediately: &lt;true/false&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       device-property-name: &lt;property-name defined in the device model&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - .......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       .......</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><p>Multiple actions can be added in the action manager module. Each of these actions can either be executed by the action manager of invoked by other modules of
the mapper like scheduler and watcher.</p></li><li><p>Name of each action should be unique, it is using this name that the other modules like the scheduler or watcher can invoke which action to perform.</p></li><li><p>Perform-immediately field of the action manager tells the action manager whether it is supposed to perform the action immediately or not, if it set to true then the action manger will
perform the event once.</p></li><li><p>Each action is associated with a device-property-name, which is the property-name defined in the device CRD, which in turn contains the implementation details required by the action.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scheduler">Scheduler<a href="#scheduler" class="hash-link" aria-label="Scheduler的直接链接" title="Scheduler的直接链接">​</a></h3><p> Scheduler is a component which can perform an action or a set of actions at regular intervals of time. They will make use of the actions previously defined in the action manager module,
it has to be ensured that before the execution of the schedule the action should be defined, otherwise it would lead to an error. The schedule can be configured to run for a specified number of times
or run infinitely. The scheduler is an optional module and need not be specified if not required by the user. The user can provide input to the scheduler through configuration file or
through MQTT at runtime. The values specified initially by the user through the configuration file can be modified at runtime through MQTT. Given below is a guide to provide input to scheduler
through the configuration file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      scheduler:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        schedules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - name: &lt;name of schedule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            interval: &lt;time in milliseconds&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            occurrence-limit: &lt;number of times to be executed&gt;            # if it is 0, then the event will execute infinitely</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            actions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - ......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ......</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><p>Multiple schedules can be defined by the user by providing an array as input though the configuration file.</p></li><li><p>Name specifies the name of the schedule to be executed, each schedule must have a unique name as it is used as a method of identification by the scheduler.</p></li><li><p>Interval refers to the time interval at which the schedule is meant to be repeated. The user is expected to provide the input in milliseconds.</p></li><li><p>Occurrence-limit refers to the number of times the action(s) is supposed to occur. If the user wants the event to run infinitely then it can be set to 0 or the field can be skipped.</p></li><li><p>Actions refer to the action names which are supposed to be executed in the schedule. The actions will be defined in the same order in which they are mentioned here.</p></li><li><p>The user is expected to provide the names of the actions to be performed in the schedule, in the same order that they are to be executed.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="watcher">Watcher<a href="#watcher" class="hash-link" aria-label="Watcher的直接链接" title="Watcher的直接链接">​</a></h3><p> The following are the main responsibilities of the watcher component:
a) To scan for bluetooth devices and connect to the correct device once it is Online/In-Range.</p><p> b) Keep a watch on the expected state of the twin-attributes of the device and perform the action(s) to make actual state equal to expected.</p><p> c) To report the actual state of twin attributes back to the cloud.</p><p> The watcher is an optional component and need not be defined or used by the user if not necessary. The input to the watcher can be provided through the configuration file or through
mqtt at runtime. The values that are defined through the configuration file can be changed at runtime through MQTT. Given below is a guide to provide input to the watcher through the configuration file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      watcher:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          device-twin-attributes :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - device-property-name: &lt;name of attribute&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - ......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ......</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><p>Device-property-name refers to the device twin attribute name that was given when creating the device. It is using this name that the watcher watches for any change in expected state.</p></li><li><p>Actions refers to a list of action names, these are the names of the actions using which we can convert the actual state to the expected state.</p></li><li><p>The names of the actions being provided must have been defined using the action manager before the mapper begins execution. Also the action names should be mentioned in the same order in which they have
to be executed.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="controller">Controller<a href="#controller" class="hash-link" aria-label="Controller的直接链接" title="Controller的直接链接">​</a></h3><p> The controller module is responsible for exposing MQTT APIs to perform CRUD operations on the watcher, scheduler and action manager. The controller is also responsible for starting the other modules like action manager, watcher and scheduler.
The controller first connects the MQTT client to the broker (using the mqtt configurations, specified in the configuration file), it then initiates the watcher which will connect to the device (based on the configurations provided in the configuration file) and the
watcher runs parallelly, after this it starts the action manger which executes all the actions that have been enabled in it, after which the scheduler is started to run parallelly as well. Given below is a guide to provide input to the
controller through the configuration file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      mqtt:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mode: 0       # 0 -internal mqtt broker  1 - external mqtt broker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        server: tcp://127.0.0.1:1883 # external mqtt broker url.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        internal-server: tcp://127.0.0.1:1884 # internal mqtt broker url.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      device-model-name: &lt;device_model_name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Usage的直接链接" title="Usage的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-file">Configuration File<a href="#configuration-file" class="hash-link" aria-label="Configuration File的直接链接" title="Configuration File的直接链接">​</a></h3><p> The user can give the configurations specific to the bluetooth device using configurations provided in the configuration file present at $GOPATH/src/github.com/kubeedge/kubeedge/mappers/bluetooth_mapper/configuration/config.yaml.
The details provided in the configuration file are used by action-manager module, scheduler module, watcher module, the data-converter module and the controller.</p><p> <strong>Example:</strong> Given below is the instructions using which user can create their own configuration file, for their device.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     mqtt:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       mode: 0       # 0 -internal mqtt broker  1 - external mqtt broker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       server: tcp://127.0.0.1:1883 # external mqtt broker url.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       internal-server: tcp://127.0.0.1:1884 # internal mqtt broker url.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     device-model-name: &lt;device_model_name&gt;        #deviceID received while registering device with the cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     action-manager:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       actions:          # Multiple actions can be added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       - name: &lt;name of the action&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         perform-immediately: &lt;true/false&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         device-property-name: &lt;property-name defined in the device model&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       - .......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         .......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     scheduler:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       schedules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       - name: &lt;name of schedule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         interval: &lt;time in milliseconds&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         occurrence-limit: &lt;number of times to be executed&gt;            # if it is 0, then the event will execute infinitely</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         actions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - ......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       - ......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     watcher:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       device-twin-attributes :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       - device-property-name: &lt;name of attribute&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         actions:        # Multiple actions can be added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - &lt;action name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - ......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       - ......</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-configuration-modifications">Runtime Configuration Modifications<a href="#runtime-configuration-modifications" class="hash-link" aria-label="Runtime Configuration Modifications的直接链接" title="Runtime Configuration Modifications的直接链接">​</a></h3><p> The configuration of the mapper as well as triggering of the modules of the mapper can be done during runtime. The user can do this by
publishing messages on the respective MQTT topics of each module. Please note that we have to use the same MQTT broker that is being used by the mapper
i.e. if the mapper is using the internal MQTT broker then the messages have to be published on the internal MQTT broker
and if the mapper is using the external MQTT broker then the messages have to be published on the external MQTT broker.</p><p>The following properties can be changed at runtime by publishing messages on MQTT topics of the MQTT broker:</p><ul><li>Watcher</li><li>Action Manager</li><li>Scheduler</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="watcher-1">Watcher<a href="#watcher-1" class="hash-link" aria-label="Watcher的直接链接" title="Watcher的直接链接">​</a></h4><p>The user can add or update the watcher properties of the mapper at runtime. It will overwrite the existing watcher configurations (if exists)</p><p><strong>Topic:</strong> $ke/mappers/bluetooth-mapper/&lt; deviceID &gt;/watcher/create</p><p><strong>Message:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">         {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;device-twin-attributes&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;device-property-name&quot;: &quot;IOControl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;actions&quot;: [                     # List of names of actions to be performed (actions should have been defined before watching)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;IOConfigurationInitialize&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;IODataInitialize&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;IOConfiguration&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;IOData&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="action-manager-1">Action Manager<a href="#action-manager-1" class="hash-link" aria-label="Action Manager的直接链接" title="Action Manager的直接链接">​</a></h4><p>In the action manager module the user can perform two types of operations at runtime, i.e. :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. The user can add or update the actions to be performed on the bluetooth device.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. The user can delete the actions that were previously defined for the bluetooth device.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="action-add">Action Add<a href="#action-add" class="hash-link" aria-label="Action Add的直接链接" title="Action Add的直接链接">​</a></h5><p>The user can add a set of actions to be performed by the mapper. If an action with the same name as one of the actions in the list exists
then it updates the action and if the action does not already exist then it is added to the existing set of actions.</p><p><strong>Topic:</strong> $ke/mappers/bluetooth-mapper/&lt; deviceID &gt;/action-manager/create</p><p><strong>Message:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;IRTemperatureConfiguration&quot;,          # name of action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;perform-immediately&quot;: true,                   # whether the action is to performed immediately or not</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;device-property-name&quot;: &quot;temperature-enable&quot;   #property-name defined in the device model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;IRTemperatureData&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;perform-immediately&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;device-property-name&quot;: &quot;temperature&quot;          #property-name defined in the device model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="action-delete">Action Delete<a href="#action-delete" class="hash-link" aria-label="Action Delete的直接链接" title="Action Delete的直接链接">​</a></h5><p>The users can delete a set of actions that were previously defined for the device. If the action mentioned in the list does not exist
then it returns an error message.</p><p><strong>Topic:</strong> $ke/mappers/bluetooth-mapper/&lt; deviceID &gt;/action-manager/delete</p><p><strong>Message:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;IRTemperatureConfiguration&quot;        #name of action to be deleted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;IRTemperatureData&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;IOConfigurationInitialize&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;IOConfiguration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scheduler-1">Scheduler<a href="#scheduler-1" class="hash-link" aria-label="Scheduler的直接链接" title="Scheduler的直接链接">​</a></h4><p>In the scheduler module the user can perform two types of operations at runtime, i.e. :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. The user can add or update the schedules to be performed on the bluetooth device.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. The user can delete the schedules that were previously defined for the bluetooth device.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="schedule-add">Schedule Add<a href="#schedule-add" class="hash-link" aria-label="Schedule Add的直接链接" title="Schedule Add的直接链接">​</a></h5><p>The user can add a set of schedules to be performed by the mapper. If a schedule with the same name as one of the schedules in the list exists
then it updates the schedule and if the action does not already exist then it is added to the existing set of schedules.</p><p><strong>Topic:</strong> $ke/mappers/bluetooth-mapper/&lt; deviceID &gt;/scheduler/create</p><p><strong>Message:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;temperature&quot;,            # name of schedule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;interval&quot;: 3000,           # frequency of the actions to be executed (in milliseconds)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;occurrence-limit&quot;: 25,         # Maximum number of times the event is to be executed, if not given then it runs infinitely</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;actions&quot;: [                          # List of names of actions to be performed (actions should have been defined before execution of schedule)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;IRTemperatureConfiguration&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;IRTemperatureData&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="schedule-delete">Schedule Delete<a href="#schedule-delete" class="hash-link" aria-label="Schedule Delete的直接链接" title="Schedule Delete的直接链接">​</a></h5><p>The users can delete a set of schedules that were previously defined for the device. If the schedule mentioned in the list does not exist
then it returns an error message.</p><p><strong>Topic:</strong> $ke/mappers/bluetooth-mapper/&lt; deviceID &gt;/scheduler/delete</p><p><strong>Message:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;temperature&quot;                  #name of schedule to be deleted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/gameone/docs/developer/mappers/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Mappers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/gameone/docs/developer/mappers/modbus"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Modbus</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#running-the-mapper" class="table-of-contents__link toc-highlight">Running the mapper</a><ul><li><a href="#building-the-bluetooth-mapper" class="table-of-contents__link toc-highlight">Building the bluetooth mapper</a></li><li><a href="#deploying-bluetooth-mapper-application" class="table-of-contents__link toc-highlight">Deploying bluetooth mapper application</a></li></ul></li><li><a href="#modules" class="table-of-contents__link toc-highlight">Modules</a><ul><li><a href="#action-manager" class="table-of-contents__link toc-highlight">Action Manager</a></li><li><a href="#scheduler" class="table-of-contents__link toc-highlight">Scheduler</a></li><li><a href="#watcher" class="table-of-contents__link toc-highlight">Watcher</a></li><li><a href="#controller" class="table-of-contents__link toc-highlight">Controller</a></li></ul></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#configuration-file" class="table-of-contents__link toc-highlight">Configuration File</a></li><li><a href="#runtime-configuration-modifications" class="table-of-contents__link toc-highlight">Runtime Configuration Modifications</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">2023 © GameOne Project Authors. All rights reserved. GameOne项目组，版权所有！</div></div></div></footer></div>
<script src="/gameone/assets/js/runtime~main.94491653.js"></script>
<script src="/gameone/assets/js/main.07136e89.js"></script>
</body>
</html>